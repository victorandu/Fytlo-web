@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Core colors */
  --color-base: #050506;
  --color-surface: #0a0a0c;
  --color-elevated: #111114;
  --color-foreground: #fafafa;
  --color-muted: #a1a1aa;

  /* Glass properties */
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-bg-fallback: rgba(20, 20, 24, 0.95);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-blur: 16px;
}

/* Base body styles */
body {
  color: var(--color-foreground);
  background: var(--color-base);
  min-height: 100dvh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus visible outline for keyboard navigation */
:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.5);
  outline-offset: 2px;
}

/* Remove default focus for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Dark gradient background layer */
.bg-dark-gradient {
  background:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(120, 80, 200, 0.12), transparent),
    radial-gradient(ellipse 60% 40% at 80% 100%, rgba(60, 100, 180, 0.08), transparent),
    linear-gradient(180deg, var(--color-base) 0%, var(--color-surface) 100%);
}

/* Subtle film grain texture overlay */
.bg-grain::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: 0.1;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  z-index: 1000;
}

@media (prefers-reduced-motion: reduce) {
  .bg-grain::before {
    opacity: 0.05;
  }
}

/* Glass surface - with fallback for unsupported browsers */
@layer components {
  .glass {
    background: var(--glass-bg-fallback);
    border: 1px solid var(--glass-border);
    border-radius: 1rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass {
      background: var(--glass-bg);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
    }
  }

  /* Glass variants */
  .glass-subtle {
    background: rgba(255, 255, 255, 0.01);
    border: 1px solid rgba(255, 255, 255, 0.04);
    border-radius: 0.75rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-subtle {
      backdrop-filter: blur(8px) saturate(1.1);
      -webkit-backdrop-filter: blur(8px) saturate(1.1);
    }
  }

  .glass-strong {
    background: var(--glass-bg-fallback);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 1.25rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-strong {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(24px) saturate(1.3);
      -webkit-backdrop-filter: blur(24px) saturate(1.3);
    }
  }

  /* GlassCard component styles */
  .glass-card {
    background: var(--glass-bg-fallback);
    border: 1px solid var(--glass-border);
    border-top-color: rgba(255, 255, 255, 0.12);
    border-radius: 1rem;
    box-shadow:
      0 4px 24px rgba(0, 0, 0, 0.3),
      0 1px 2px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.04);
    padding: 1.5rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-card {
      background: var(--glass-bg);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
    }
  }

  .glass-card-subtle {
    background: rgba(255, 255, 255, 0.01);
    border: 1px solid rgba(255, 255, 255, 0.04);
    border-top-color: rgba(255, 255, 255, 0.06);
    border-radius: 0.75rem;
    box-shadow:
      0 2px 12px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.02);
    padding: 1rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-card-subtle {
      backdrop-filter: blur(8px) saturate(1.1);
      -webkit-backdrop-filter: blur(8px) saturate(1.1);
    }
  }

  .glass-card-strong {
    background: rgba(20, 20, 24, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-top-color: rgba(255, 255, 255, 0.18);
    border-radius: 1.25rem;
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.4),
      0 2px 4px rgba(0, 0, 0, 0.25),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
    padding: 2rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-card-strong {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(24px) saturate(1.3);
      -webkit-backdrop-filter: blur(24px) saturate(1.3);
    }
  }
}

/* Reduced motion: disable any transitions */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

/* Safe area padding for mobile notches */
@supports (padding-top: env(safe-area-inset-top)) {
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
