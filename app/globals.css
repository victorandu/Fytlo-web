@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Core colors - charcoal/deep slate */
  --color-base: #18181b;
  --color-surface: #1c1c21;
  --color-elevated: #27272a;
  --color-foreground: #fafafa;
  --color-muted: #a1a1aa;

  /* Glass properties - slightly more visible against lighter bg */
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-bg-fallback: rgba(35, 35, 40, 0.95);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-blur: 16px;
}

/* Base body styles */
body {
  color: var(--color-foreground);
  background: var(--color-base);
  min-height: 100dvh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus visible outline for keyboard navigation */
:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.5);
  outline-offset: 2px;
}

/* Remove default focus for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Dark gradient background layer - subtle depth */
.bg-dark-gradient {
  background:
    radial-gradient(ellipse 80% 50% at 50% -20%, rgba(120, 100, 180, 0.06), transparent),
    radial-gradient(ellipse 60% 40% at 80% 100%, rgba(80, 100, 160, 0.04), transparent),
    linear-gradient(180deg, var(--color-base) 0%, var(--color-surface) 100%);
}

/* Glass surface - with fallback for unsupported browsers */
@layer components {
  .glass {
    background: var(--glass-bg-fallback);
    border: 1px solid var(--glass-border);
    border-radius: 1rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass {
      background: var(--glass-bg);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
    }
  }

  /* Glass variants */
  .glass-subtle {
    background: rgba(255, 255, 255, 0.01);
    border: 1px solid rgba(255, 255, 255, 0.04);
    border-radius: 0.75rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-subtle {
      backdrop-filter: blur(8px) saturate(1.1);
      -webkit-backdrop-filter: blur(8px) saturate(1.1);
    }
  }

  .glass-strong {
    background: var(--glass-bg-fallback);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 1.25rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-strong {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(24px) saturate(1.3);
      -webkit-backdrop-filter: blur(24px) saturate(1.3);
    }
  }

  /* GlassCard component styles */
  .glass-card {
    background: var(--glass-bg-fallback);
    border: 1px solid var(--glass-border);
    border-top-color: rgba(255, 255, 255, 0.14);
    border-radius: 1rem;
    box-shadow:
      0 4px 24px rgba(0, 0, 0, 0.2),
      0 1px 2px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
    padding: 1.5rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-card {
      background: var(--glass-bg);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.2);
    }
  }

  .glass-card-subtle {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-top-color: rgba(255, 255, 255, 0.08);
    border-radius: 0.75rem;
    box-shadow:
      0 2px 12px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.03);
    padding: 1rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-card-subtle {
      backdrop-filter: blur(8px) saturate(1.1);
      -webkit-backdrop-filter: blur(8px) saturate(1.1);
    }
  }

  .glass-card-strong {
    background: rgba(40, 40, 45, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-top-color: rgba(255, 255, 255, 0.18);
    border-radius: 1.25rem;
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.25),
      0 2px 4px rgba(0, 0, 0, 0.15),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
    padding: 2rem;
  }

  @supports (backdrop-filter: blur(1px)) {
    .glass-card-strong {
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(24px) saturate(1.3);
      -webkit-backdrop-filter: blur(24px) saturate(1.3);
    }
  }
}

/* Reduced motion: disable any transitions */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

/* Safe area padding for mobile notches */
@supports (padding-top: env(safe-area-inset-top)) {
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
